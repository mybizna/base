<template>
    <v-card>
        <v-card-title class="align-start">
            <span class="font-weight-semibold">Statistics Card</span>
        </v-card-title>

        <v-card-text>
            <v-row>
                <v-col
                    v-for="data in $store.state.dashboard.dashboard_data"
                    :key="data.title"
                    cols="6"
                    class="d-flex align-center"
                >
                    <v-avatar
                        size="44"
                        :color="data.color"
                        rounded
                        class="elevation-1"
                    >
                        <i
                            class="text-white dashboard-card-icon"
                            :class="data.icon"
                        ></i>
                    </v-avatar>
                    <div class="ms-3">
                        <p class="text-xs mb-0">
                            {{ data.title }}
                        </p>
                        <h3 class="text-xl font-weight-semibold">
                            <template v-if="data.is_amount">
                                ${{ this.$func.formatNumber(data.total) }}
                            </template>
                             <template v-else>
                                {{ this.$func.formatNumber(data.total) }}
                            </template>
                        </h3>
                    </div>
                </v-col>
            </v-row>
        </v-card-text>
    </v-card>
</template>

<script>
// eslint-disable-next-line object-curly-newline

import { useStore } from "vuex";

export default {
    setup() {
        const store = useStore();

        if (!store.state.system.has_dashboard_data) {
            store.dispatch("dashboard/getDashboardData");
        }

        return {};
    },
};
</script>

<style>
.dashboard-card-icon {
    font-size: 18px;
}
</style>
